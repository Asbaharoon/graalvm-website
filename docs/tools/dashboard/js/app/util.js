define((function(){class e{constructor(){this._id=0}newId(){return(this._id++).toString()}}const t={formatTime:e=>{const t=new Date(e);return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}.${e%1e3}`},idGenerator:new e,dataSourceIdGenerator:new e,tileIdGenerator:new e,truncate:function(e,t,n){if(e.length<=t)return e;t<n.length+1&&console.warn("truncateCenter: omission string too long for maxLength, result will be longer");const r=t-n.length;return`${e.substr(0,Math.max(r,1))}${n}`},truncateCenter:function(e,t,n){if(e.length<=t)return e;t<n.length+2&&console.warn("truncateCenter: omission string too long for maxLength, result will be longer");const r=t-n.length,o=Math.max(Math.ceil(r/2),1),i=Math.max(Math.floor(r/2),1);return`${e.substring(0,o)}${n}${e.substring(e.length-i)}`},roundAndFormat:function(e,t){const n=Math.pow(10,t);let r=parseFloat((e*n).toFixed(11));return""+Math.round(r)/n},findRelevantCallee:function(e,t){let n=null;return e.info.calleeNames.forEach(e=>{e.startsWith(t.className)&&(n=e)}),n},simplifyClassName:function(e){const t=e.split(".");return t[t.length-1]},simplifyQualifiedName:function(e,t){let n=e.indexOf("("),r=null;if(n<0)n=e.length;else{const t=e.substring(n+1,e.length-1).split(", ");r=[],t.forEach(e=>{const t=e.split(".");r.push(t[t.length-1])})}const o=e.substr(0,n).split("."),i=Math.min(t,o.length);let l=o.slice(o.length-(i+1)).join(".");return null!=r&&(l+="("+r.join(", ")+")"),l},extractMethodName:function(e){const t=e.substr(0,e.indexOf("(")).lastIndexOf(".");return e.substr(t+1)},hashPassword:function(e){const t=new Array(32);for(let e=0;e<t.length;e++)t[e]=0;0===e.length&&(e="empty");let n=0;for(let r=0;r<8*e.length;r++)n=1375251603^e.charCodeAt(r%e.length),n=n<<1|n>>>31,t[r%t.length]=t[r%t.length]^n;return t},passwordMatch:function(e,n){const r=t.hashPassword(e);if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0},getUrlParams:function(){const e=window.location.href.match("(.*\\?)([^#]+)");if(!e)return{};const t=e[2].split("&"),n={};return t.forEach(e=>{const t=e.split("=");2===t.length?n[t[0]]=function(e){if("true"===e)return!0;if("false"===e)return!1;return e}(t[1]):console.warn("Bad query parameter: "+e)}),n},openOrDownloadFile:function(e,t,n){const r=new Blob(e,{type:n}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=t,i.type=n,i.click(),setTimeout((function(){URL.revokeObjectURL(o)}),100)},decodeUTF8:function(e){let t=0,n=[];for(;t<e.length;){let r=e[t++];if(r>127)if(r>191&&r<224){if(t>=e.length)throw new Error("UTF-8 decode: incomplete 2-byte sequence");r=(31&r)<<6|63&e[t++]}else if(r>223&&r<240){if(t+1>=e.length)throw new Error("UTF-8 decode: incomplete 3-byte sequence");r=(15&r)<<12|(63&e[t++])<<6|63&e[t++]}else{if(!(r>239&&r<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+r.toString(16)+" at index "+(t-1));if(t+2>=e.length)throw new Error("UTF-8 decode: incomplete 4-byte sequence");r=(7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++]}if(r<=65535)n.push(String.fromCharCode(r));else{if(!(r<=1114111))throw new Error("UTF-8 decode: code point 0x"+r.toString(16)+" exceeds UTF-16 reach");r-=65536,n.push(String.fromCharCode(r>>10|55296)),n.push(String.fromCharCode(1023&r|56320))}}return n.join("")},utf8ArrayToStr:(n=new Array(128),r=String.fromCodePoint||String.fromCharCode,o=[],function(e){var t,i,l=e.length;o.length=0;for(var s=0;s<l;)(i=e[s++])<=127?t=i:i<=223?t=(31&i)<<6|63&e[s++]:i<=239?t=(15&i)<<12|(63&e[s++])<<6|63&e[s++]:String.fromCodePoint?t=(7&i)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++]:(t=63,s+=3),o.push(n[t]||(n[t]=r(t)));return o.join("")})};var n,r,o;return t}));