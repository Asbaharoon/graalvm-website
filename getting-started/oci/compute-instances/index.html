<!DOCTYPE html>
<html xml:lang="en-us" lang="en-us">
    <head>
        




        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta property="og:site_name" content="Oracle Help Center">

        <!-- The title values -->
        <title></title>
        <meta property="og:title" content="">
        <meta name="application-name" content="GraalVM Community">
        <meta name="dcterms.title" content="">
        <!-- The description values -->
        
        
        
        <meta name="dcterms.created" content="2020-08-19T08:59:10+00:00">
        <meta name="dcterms.category" content="">
        <meta name="dcterms.identifier" content="">
        <meta name="dcterms.product" content="">
        <meta name="dcterms.isVersionOf" content="">

        
        
        <link rel="first" href="/main.html" title="First Page" type="text/html">
        <link rel="contents" href="/toc.htm" title="Table of Contents" type="text/html">
        <link rel="self" href="/getting-started/oci/compute-instances/" title="Current Page" type="text/html">

        <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
        <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
        <meta name="robots" content="all">
        <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
        <script>
            document.write('<style type="text/css">');
            document.write('body > .noscript, body > .noscript ~ * { opacity: 0; }');
            document.write('</style>');
        </script>
        <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
        <script>
            if (window.require === undefined) {
                document.write('<script data-main="../../../sp_common/book-template/ohc-book-template/js/book-config" src="../../../sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="../../../sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet">');
            }
        </script>
    </head>
    <body>
        <div class="noscript alert alert-danger text-center" role="alert">
            
            
            <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        </div>
        <article>
            <h2 id="oci-compute-instances-with-graalvm-enterprise-runtime">OCI Compute Instances with GraalVM Enterprise Runtime</h2>

<p><a href="https://www.oracle.com/cloud">Oracle Cloud Infrastructure (OCI)</a> offers Oracle
GraalVM Enterprise Edition for free for its customers. GraalVM Enterprise
support is included in the Oracle Cloud subscription.</p>

<p>This guide focuses on using GraalVM Enterprise with Oracle Cloud Infrastructure Virtual Machine (VM) compute instance.
If a user prefers a Bare Metal Machine instance, here is a <a href="https://cloud.oracle.com/iaas/whitepapers/deploying_custom_os_images.pdf">documentation</a> to peruse. For a complete beginner, <a href="https://docs.cloud.oracle.com/iaas/Content/GSG/Reference/overviewworkflow.htm?tocpath=Getting%20Started%7CTutorial%20-%20Launching%20Your%20First%20Linux%20Instance%7C_____0">start by creating and launching the first Linux instance tutorial</a>.</p>

<p>There are two ways to set up GraalVM Enterprise environment in OCI VM instance:</p>
<ul>
  <li><a href="#automatic-install-with-yum">Automatic install</a> of GraalVM Enterprise in a Linux operating virtual machine instance using the <a href="http://yum.baseurl.org">YUM</a> command-line package-management utility</li>
  <li><a href="#manual-transfer">Manual transfer</a> of GraalVM Enterprise files from a local machine to a VM host</li>
</ul>

<p>Further below both configurations are described.
For demonstration purposes, a demo-instance of the <strong>VM.Standard2.1</strong> type with the <strong>Oracle Linux 7.7</strong> pre-built image was created. The following SSH command is then used to connect to a Linux instance from a Unix-style system:</p>
<pre><code>ssh -i .ssh/id_rsa opc@150.136.54.68
</code></pre>
<p>where <code>.ssh/id_rsa</code> is the full path and name of the file containing the private SSH key, <code>opc</code> is the default name for the Oracle Linux image, and <code>150.136.54.68</code> is the instance IP address provisioned from the console.
For more details, refer to the <a href="https://docs.cloud.oracle.com/iaas/Content/GSG/Tasks/testingconnection.htm">Connecting to Your Linux Instance Using SSH</a> tutorial.</p>

<h2 id="automatic-install-with-yum">Automatic Install with YUM</h2>

<p>Oracle GraalVM Enterprise Edition RPMs have been made available in the OCI YUM repository for the product installation convenience. That means that OCI customers can use GraalVM Enterprise environment in their cloud instances by installing it with <code>yum</code> - a package-management utility for the Linux operating systems.</p>

<p>To demonstrate GraalVM Enterprise configuration using <code>yum</code>, a user should have <a href="https://docs.cloud.oracle.com/iaas/Content/GSG/Reference/overviewworkflow.htm?tocpath=Getting%20Started%7CTutorial%20-%20Launching%20Your%20First%20Linux%20Instance%7C_____0">created a compute VM instance and connected to it</a>.</p>

<ol>
  <li>Having connected to the instance, verify what GraalVM RPMs are available for the installation:
    <pre><code>sudo yum provides graalvm*
...
</code></pre>
    <p>Note, with newer releases of GraalVM Enterprise the repodata outdates and you
may need to pull in the latest RPM packages. Run <code>yum check-update</code> to refresh.</p>
  </li>
  <li>Having looked up a necessary RPM package name, install GraalVM Enterprise with
<code>sudo yum install &lt;package_name&gt;</code>. The dependent packages, like libpolyglot,
llvm etc., will also be resolved.
    <pre><code>sudo yum install graalvm20-ee-8-20.2.0-1.el7.x86_64
</code></pre>
    <p><img src="/docs/getting-started/oci/graalvm_in_oci_1.png" alt="" />
If you have GraalVM Enterprise installed in your VM host already, the <code>sudo yum install &lt;package_name&gt;</code> command will not only install a preferred version, but also replace the old one.
If you want to upgrade an existing package, run <code>yum
upgrade &lt;package_name&gt;</code> and it will also remove the obsolete. The <code>yum upgrade</code>
command will upgrade the whole system. After the installation, GraalVM Enterprise binary is placed in the root <code>usr/lib64/graalvm</code> directory.</p>
  </li>
  <li>Next step is setting up environment variables to point to the GraalVM Enterprise directory. Check Java version:
    <pre><code>java -version
java version "1.8.0_261"
Java(TM) SE Runtime Environment (build 1.8.0_261-b33)
Java HotSpot(TM) 64-Bit Server VM GraalVM EE 20.2.0 (build 25.261-b33-jvmci-20.2-b03, mixed mode)
</code></pre>
    <p>Configure the <code>PATH</code> and <code>JAVA_HOME</code> environment variables in the bash configuration to point to GraalVM Enterprise for this SSH session with the following commands:</p>
    <pre><code>echo "export JAVA_HOME=/usr/lib64/graalvm/graalvm20-ee-java8" &gt;&gt; ~/.bashrc
echo "export PATH='$JAVA_HOME'/bin:'$PATH' " &gt;&gt; ~/.bashrc
</code></pre>
    <p>Then run <code>source ~/.bashrc</code> to activate this change and verify the result:</p>
    <pre><code>source ~/.bashrc
echo $JAVA_HOME
echo $PATH
</code></pre>
  </li>
  <li>To install additional GraalVM Enterprise language runtimes (<em>Oracle GraalVM Enterprise Edition JDK8 Python runtime</em>, etc.) or features (<em>Oracle GraalVM Enterprise Edition JDK8 Native-Image</em>, <em>Oracle GraalVM Enterprise Edition JDK8 GraalVM LLVM Toolchain runtime</em>), use the <code>yum install &lt;package_name&gt;</code> command syntax. For example:
    <pre><code>sudo yum install graalvm20-ee-8-native-image
</code></pre>
    <p>Note, the <em>Oracle GraalVM Enterprise Edition JDK8 R runtime</em> and <em>Oracle GraalVM
Enterprise Edition JDK11 R runtime</em> RPMs are not currently available in the OCI
YUM repository.</p>
  </li>
</ol>

<h2 id="manual-transfer">Manual Transfer</h2>

<p>A manual installation implies a transfer of GraalVM Enterprise files from a local machine to the virtual machine host.
One way would be to copy the GraalVM Enterprise distribution from a local machine into every single
virtual machine instance. However a more reasonable approach is to create a
custom image that would have GraalVM Enterprise distribution and start your instances from
it.</p>

<p>Having <a href="https://docs.cloud.oracle.com/iaas/Content/GSG/Reference/overviewworkflow.htm?tocpath=Getting%20Started%7CTutorial%20-%20Launching%20Your%20First%20Linux%20Instance%7C_____0">created a compute VM instance and connected to it</a>, follow next steps to supply this instance with GraalVM Enterprise runtime.</p>

<ol>
  <li>
    <p>Download Oracle GraalVM Enterprise Edition from <a href="https://www.oracle.com/downloads/graalvm-downloads.html">Oracle Technology Network</a>.</p>
  </li>
  <li>Copy GraalVM Enterprise from a local machine to your virtual machine instance:
    <pre><code>scp -i ~/.ssh/id_rsa graalvm-ee-linux-java8-amd64-20.1.0.tar.gz opc@150.136.54.68:/home/opc
graalvm-ee-linux-amd64-20.2.0.tar.gz  100%  416MB   4.1MB/s   01:42
</code></pre>
  </li>
  <li>Unpack the archive on the virtual machine:
    <pre><code>tar -xvzf graalvm-ee-linux-java8-amd64-20.2.0.tar.gz
</code></pre>
  </li>
  <li>Set the environment variables to point to the GraalVM Enterprise directory. Check Java version:
    <pre><code>java -version
java version "1.8.0_261"
Java(TM) SE Runtime Environment (build 1.8.0_261-b33)
Java HotSpot(TM) 64-Bit Server VM GraalVM EE 20.2.0 (build 25.261-b33-jvmci-20.2-b03, mixed mode)
</code></pre>
    <p>Configure the <code>PATH</code> and <code>JAVA_HOME</code> environment variables in the bash
configuration to point to GraalVM Enterprise for this SSH session with the
following commands:</p>
    <pre><code>echo "export JAVA_HOME=/usr/lib64/graalvm/graalvm20-ee-java8" &gt;&gt; ~/.bashrc
echo "export PATH='$JAVA_HOME'/bin:'$PATH' " &gt;&gt; ~/.bashrc
</code></pre>
    <p>Then run <code>source ~/.bashrc</code> to activate this change and verify the result:</p>
    <pre><code>source ~/.bashrc
echo $JAVA_HOME
echo $PATH
</code></pre>
  </li>
</ol>

<p>Having followed Automatic Install with YUM or Manual Transfer steps, you receive
a ready-to-go VM instance with GraalVM Enterprise environment. OCI allows to
create custom images of it, inheriting all parent’s environment settings:</p>
<ol>
  <li>Return to the instance console.</li>
  <li>Expand “Actions” drop down menu and click “Create
Custom Image”:
<img src="/docs/getting-started/oci/graalvm_in_oci_2.png" alt="" /></li>
  <li>Enter the name of your custom image and wait a few minutes.</li>
</ol>

            
        </article>
    </body>
</html>
